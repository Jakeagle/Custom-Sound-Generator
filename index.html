<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Sound Generator</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">Sound Generator</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="#">About</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
      <!-- THX Deep Note Controls -->
      <div class="card mb-4">
        <div class="card-header">
          <h4>THX Deep Note</h4>
        </div>
        <div class="card-body">
          <div class="d-flex">
            <button id="playBtn" class="btn btn-primary mt-3 me-2">
              Play THX Deep Note
            </button>
            <button id="downloadBtn" class="btn btn-success mt-3">
              Download THX Deep Note
            </button>
          </div>
        </div>
      </div>

      <!-- Custom Sound Sections -->
      <div class="card mb-4">
        <div class="card-header">
          <h4>Custom Sound Generator</h4>
        </div>
        <div class="card-body" id="sectionsContainer">
          <!-- Section 1 -->
          <div class="sound-section p-3 mb-3 bg-light rounded">
            <h5>Section 1</h5>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Starting Sound</label>
                <select
                  class="form-select"
                  id="startType_1"
                  onchange="window.soundController.updateTypeControls('1', 'start')"
                >
                  <option value="chord">Chord</option>
                  <option value="range">Range</option>
                </select>
                <div id="startChord_1" class="mt-2">
                  <label class="form-label">Chord</label>
                  <select class="form-select" id="startChordSelect_1">
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="G">G</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="THX">THX</option>
                  </select>
                </div>
                <div id="startRange_1" class="mt-2" style="display: none">
                  <label class="form-label">Min Frequency</label>
                  <input
                    type="number"
                    class="form-control"
                    id="startMinFreq_1"
                    value="100"
                    min="20"
                    max="20000"
                  />
                  <label class="form-label mt-2">Max Frequency</label>
                  <input
                    type="number"
                    class="form-control"
                    id="startMaxFreq_1"
                    value="300"
                    min="20"
                    max="20000"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <label class="form-label">End Sound</label>
                <select class="form-select" id="endType_1">
                  <option value="chord">Chord</option>
                  <option value="range">Range</option>
                </select>
                <div id="endChord_1" class="mt-2">
                  <label class="form-label">Chord</label>
                  <select class="form-select" id="endChordSelect_1">
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="G">G</option>
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="THX">THX</option>
                  </select>
                </div>
                <div id="endRange_1" class="mt-2" style="display: none">
                  <label class="form-label">Min Frequency</label>
                  <input
                    type="number"
                    class="form-control"
                    id="endMinFreq_1"
                    value="400"
                    min="20"
                    max="20000"
                  />
                  <label class="form-label mt-2">Max Frequency</label>
                  <input
                    type="number"
                    class="form-control"
                    id="endMaxFreq_1"
                    value="700"
                    min="20"
                    max="20000"
                  />
                </div>
              </div>
              <div class="col-md-6">
                <label class="form-label">Number of Voices</label>
                <input
                  type="number"
                  class="form-control"
                  id="numVoices_1"
                  value="10"
                  min="1"
                  max="50"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label">Voice Type</label>
                <select class="form-select" id="oscType_1">
                  <option value="sawtooth">Sawtooth</option>
                  <option value="square">Square</option>
                  <option value="sine">Sine</option>
                  <option value="triangle">Triangle</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Movement Type</label>
                <select class="form-select" id="movementType_1">
                  <option value="direct">Direct</option>
                  <option value="random">Random</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Start Type</label>
                <select class="form-select" id="startSpread_1">
                  <option value="even">Even Spread</option>
                  <option value="random">Random</option>
                </select>
              </div>
              <div class="col-md-6">
                <label class="form-label">Section Length (seconds)</label>
                <input
                  type="number"
                  class="form-control"
                  id="sectionLength_1"
                  value="5"
                  min="1"
                  max="30"
                />
              </div>
              <div class="col-md-12 mt-3">
                <h6>EQ & Effects Controls</h6>
                <div class="row">
                  <div class="col-md-4">
                    <label class="form-label">Highpass Filter (Hz)</label>
                    <input
                      type="range"
                      class="form-range"
                      id="highpassFreq_1"
                      min="20"
                      max="2000"
                      value="80"
                      oninput="window.soundController.updateSliderValue('1', 'highpassFreq')"
                    />
                    <div class="d-flex justify-content-between">
                      <small>20 Hz</small>
                      <small id="highpassValue_1">80 Hz</small>
                      <small>2000 Hz</small>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Lowpass Filter (Hz)</label>
                    <input
                      type="range"
                      class="form-range"
                      id="lowpassFreq_1"
                      min="2000"
                      max="20000"
                      value="7000"
                    />
                    <div class="d-flex justify-content-between">
                      <small>2000 Hz</small>
                      <small id="lowpassValue_1">7000 Hz</small>
                      <small>20000 Hz</small>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Reverb Amount</label>
                    <input
                      type="range"
                      class="form-range"
                      id="reverbAmount_1"
                      min="0"
                      max="1"
                      step="0.1"
                      value="0.3"
                    />
                    <div class="d-flex justify-content-between">
                      <small>Dry</small>
                      <small id="reverbValue_1">30%</small>
                      <small>Wet</small>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <button class="btn btn-danger mt-3 float-end remove-section-btn">
              Remove
            </button>
          </div>
        </div>

        <!-- Add Section Button -->
        <div class="card-footer">
          <button class="btn btn-secondary" id="addSectionBtn">
            Add Section
          </button>
        </div>
      </div>

      <!-- Play/Download Custom Sound -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-center">
            <button class="btn btn-primary me-2" id="playCustomBtn">
              Play Custom Sound
            </button>
            <button class="btn btn-success" id="downloadCustomBtn">
              Download Custom Sound
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JavaScript - Update paths to use /src directory -->
    <script type="module" src="src/ui/ui-controller.js"></script>
    <script type="module" src="src/thx-deep-note.js"></script>
  </body>
</html>
